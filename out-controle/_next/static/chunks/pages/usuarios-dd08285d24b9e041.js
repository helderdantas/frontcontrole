(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{1012:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/usuarios",function(){return n(3812)}])},1796:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(4051),a=n.n(r);function o(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){o(s,r,a,i,l,"next",e)}function l(e){o(s,r,a,i,l,"throw",e)}i(void 0)}))}}var i=n(9669),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t=e.prototype;return t.criarUser=function(e){return s(a().mark((function t(){var n,r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={nome:e.nome,email:e.email,cpf:e.cpf,password:e.password,telefone:e.telefone},t.next=4,i.post("".concat("http://10.26.0.51:3030/","users/"),n);case 4:return r=t.sent,o=r.data,t.abrupt("return",o);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0.response.data.errors),t.abrupt("return",t.t0.response.data.errors);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},t.deletarUser=function(e){return s(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.id){t.next=6;break}return n={method:"delete",url:"".concat("http://10.26.0.51:3030/","users/deletarUser/")+e.id,headers:{}},t.next=5,i(n);case 5:console.log("Usuario deletado com sucesso");case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Erro ao deletar usuario ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},t.atualizarUser=function(e){return s(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.prev=1,n={method:"put",url:"".concat("http://10.26.0.51:3030/","users/atualizarUser/")+e.id,data:{email:e.email,cpf:e.cpf,password:e.password,telefone:e.telefone}},t.next=5,i(n);case 5:t.sent,console.log("Usuario atualizado com sucesso"),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(1),console.log(t.t0.response.data.errors),t.abrupt("return",t.t0.response.data.errors);case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(0),console.log(t.t1);case 18:case"end":return t.stop()}}),t,null,[[0,15],[1,9]])})))()},t.atualizarUserSenha=function(e,t){return s(a().mark((function n(){var r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.prev=1,r={method:"put",url:"".concat("http://10.26.0.51:3030/","users/atualizarSenhaPorEmail/"),data:{email:e,password:t}},n.next=5,i(r);case 5:o=n.sent,console.log(o),console.log("Senha alterada com sucesso"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0);case 13:n.next=18;break;case 15:n.prev=15,n.t1=n.catch(0),console.log(n.t1);case 18:case"end":return n.stop()}}),n,null,[[0,15],[1,10]])})))()},t.obterTodosUsers=function(){return s(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"get",url:"".concat("http://10.26.0.51:3030/","users/obterTodosUsers/"),headers:{autorizacao:"Bearer "+sessionStorage.getItem("token")}},e.next=4,i(t);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},e}()},5663:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5893);function a(e){e.cor;return(0,r.jsx)("button",{onClick:e.onClick,className:"bg-blue-900\n         text-white px-2 py-2 rounded-md  hover:bg-blue-600\n         ".concat(e.className," \n        "),children:e.children})}},9679:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1163),a=n.n(r);function o(){sessionStorage.clear(),console.log(sessionStorage.getItem("token")),a().push("/")}},2197:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5893);function a(e){var t;return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{className:"mb-1 mt-3 flex justify-start",children:e.texto}),(0,r.jsx)("input",{type:null!==(t=e.tipo)&&void 0!==t?t:"text",value:e.valor,readOnly:e.somenteLeitura,onChange:function(t){var n;return null===(n=e.valorMudou)||void 0===n?void 0:n.call(e,t.target.value)},className:"\n                border border-purple-500 rounded-lg \n                focus:outline-none bg-gray-200 px-4 py-2\n                ".concat(e.somenteLeitura?"bg-gray":"bg-white","\n            ")})]})}},7376:function(e,t,n){"use strict";n.d(t,{K:function(){return a},h:function(){return o}});var r=n(5893),a=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),o=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})},8798:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(5893);function a(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-center py-2 text-xl",children:e.children}),(0,r.jsx)("hr",{className:"border-2 border-gray-600"})]})}var o=n(5675),s=n.n(o),i={src:"/_next/static/media/logotipoSeec.ace095d3.png",height:83,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA8klEQVR4nAHnABj/ASN+PigO/AJOz4bAtNLP1CAKCQ7rJCge2zRkO1X2KgSbAR97N8IDAAs9dCY29ggCHt8NCAT06u3cCnTVwy0f+PiFARx9QK0t7ts/GyaTExgUGgDu+QEA9PDYAMHhcwAF/yyLAQAA/wCNWQFwcyvMfJ8xBBPD6gX8nuPo93XeQ7CL9FWDAZNmNwAc+u5niDA5hvAC2BIJBQ0AF/IW7GW8qHPeHCOiAUC2NQo01wOc7AXwCdEFGCr2/v36Qfrs4Qv7D/KNdchbAZrLBgfs2zJQ8u4LKg0L6wHy+gUCA/wQ+wwU9NExQcmyHAVkHShK/XwAAAAASUVORK5CYII="};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return e.src};function u(e){return(0,r.jsx)(s(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({},e,{loader:c}))}function d(e){return(0,r.jsxs)("div",{className:"\n            flex flex-col w-10/12\n            bg-gray-200\n            text-gray-800 \n            rounded-md\n        ",children:[(0,r.jsxs)("div",{className:"columns-1",children:[(0,r.jsx)("div",{className:"grid justify-items-center",children:u(i)}),(0,r.jsx)("h1",{className:"px-0 py-0 text-xl text-center",children:"Secretaria de Educa\xe7\xe3o, do Esporte e Lazer do Estado do Rio Grande do Norte"}),(0,r.jsx)("h1",{className:"px-0 py-0 text-xl text-center",children:"Grupo de Processamento de Dados - GPD"}),(0,r.jsx)("h1",{className:"px-0 py-0 text-xl text-center",children:"Controle de Patrimonio"})]}),(0,r.jsx)("hr",{className:"border-2 border-gray-600"}),(0,r.jsx)(a,{children:e.titulo}),(0,r.jsx)("div",{className:"p-2",children:e.children})]})}},9215:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5893),a=n(1163),o=n.n(a),s=n(5663);function i(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.Z,{className:"mb-3 m-2",onClick:function(){return t=e.rota,o().push("/".concat(t));var t},children:e.children})})}},3812:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(4051),a=n.n(r),o=n(5893),s=n(7294),i=n(5663);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,c(e,t,"get"))}function d(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function f(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,c(e,t,"set"),n),n}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=new WeakMap,p=new WeakMap,x=new WeakMap,m=new WeakMap,g=new WeakMap,w=new WeakMap,b=new WeakMap,j=new WeakMap,y=function(){function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;l(this,e),d(this,v,{writable:!0,value:void 0}),d(this,p,{writable:!0,value:void 0}),d(this,x,{writable:!0,value:void 0}),d(this,m,{writable:!0,value:void 0}),d(this,g,{writable:!0,value:void 0}),d(this,w,{writable:!0,value:void 0}),d(this,b,{writable:!0,value:void 0}),d(this,j,{writable:!0,value:void 0}),f(this,p,t),f(this,x,n),f(this,m,r),f(this,g,a),f(this,w,o),f(this,b,i),f(this,j,c),f(this,v,s)}var t,n,r;return e.vazio=function(){return new e("","","","",null,null,null,null)},t=e,(n=[{key:"id",get:function(){return u(this,v)}},{key:"email",get:function(){return u(this,x)}},{key:"nome",get:function(){return u(this,p)}},{key:"cpf",get:function(){return u(this,m)}},{key:"password",get:function(){return u(this,g)}},{key:"telefone",get:function(){return u(this,w)}},{key:"createAt",get:function(){return u(this,b)}},{key:"updateAt",get:function(){return u(this,j)}}])&&h(t.prototype,n),r&&h(t,r),e}(),N=n(2197);function A(e){var t;return(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("label",{className:"mb-1 mt-3",children:e.texto}),(0,o.jsx)("input",{type:null!==(t=e.tipo)&&void 0!==t?t:"text",value:e.valor,readOnly:e.somenteLeitura,onChange:function(t){var n;return null===(n=e.valorMudou)||void 0===n?void 0:n.call(e,t.target.value)},onBlur:function(e){return function(e){var t,n=e,r=(e=n,n.substr(9,2)),a=0,o=!1;for(t=0;t<9;t++)a+=e.charAt(t)*(10-t);if(0==a)return alert("CPF Inv\xe1lido"),o=!0,!1;if((a=11-a%11)>9&&(a=0),r.charAt(0)!=a)return alert("CPF Inv\xe1lido"),o=!0,!1;for(a*=2,t=0;t<9;t++)a+=e.charAt(t)*(11-t);if((a=11-a%11)>9&&(a=0),r.charAt(1)!=a)return alert("CPF Inv\xe1lido"),o=!0,!1;o||alert(e+" CPF V\xe1lido")}(e.target.value)},className:"\n                border border-purple-500 rounded-lg \n                focus:outline-none bg-gray-200 px-4 py-2\n                ".concat(e.somenteLeitura?"bg-gray":"bg-white","\n            ")})]})}function k(e){var t,n,r,a,l,c,u,d,f,h,v,p,x,m=null===(t=e.user)||void 0===t?void 0:t.id,g=null===(n=e.user)||void 0===n?void 0:n.createAt,w=null===(r=e.user)||void 0===r?void 0:r.updateAt,b=(0,s.useState)(null!==(f=null===(a=e.user)||void 0===a?void 0:a.nome)&&void 0!==f?f:""),j=b[0],k=b[1],C=(0,s.useState)(null!==(h=null===(l=e.user)||void 0===l?void 0:l.email)&&void 0!==h?h:""),S=C[0],P=C[1],U=(0,s.useState)(null!==(v=null===(c=e.user)||void 0===c?void 0:c.cpf)&&void 0!==v?v:""),E=U[0],M=U[1],Z=(0,s.useState)(null!==(p=null===(u=e.user)||void 0===u?void 0:u.password)&&void 0!==p?p:null),O=Z[0],F=Z[1],L=(0,s.useState)(null!==(x=null===(d=e.user)||void 0===d?void 0:d.telefone)&&void 0!==x?x:""),z=L[0],D=L[1];return(0,o.jsxs)("div",{children:[!!m&&(0,o.jsx)(N.Z,{somenteLeitura:!0,texto:"C\xf3digo",valor:m}),m?(0,o.jsx)(N.Z,{texto:"Nome",valor:j.toUpperCase(),somenteLeitura:!0}):(0,o.jsx)(N.Z,{texto:"Nome",valor:j.toUpperCase(),valorMudou:k}),(0,o.jsx)(N.Z,{texto:"Email",valor:S,valorMudou:P}),(0,o.jsx)(A,{texto:"CPF",valor:E,valorMudou:M}),!m&&(0,o.jsx)(N.Z,{texto:"Password",valor:O,valorMudou:F}),(0,o.jsx)(N.Z,{texto:"Telefone",valor:z,valorMudou:D}),(0,o.jsxs)("div",{className:"mt-5 flex justify-end",children:[(0,o.jsx)(i.Z,{cor:"blue",className:"mr-2",onClick:function(){var t;return null===(t=e.userMudou)||void 0===t?void 0:t.call(e,new y(j.toUpperCase(),S,E,O,z,m,g,w))},children:m?"Alterar":"Criar"}),(0,o.jsx)(i.Z,{cor:"blue",onClick:e.cancelado,children:"Cancelar"})]})]})}var C=n(8798),S=n(7376);function P(e){var t=function(t){return(0,o.jsxs)("td",{className:"flex justify-center",children:[!!e.userSelecionado&&(0,o.jsxs)("button",{onClick:function(){var n;return null===(n=e.userSelecionado)||void 0===n?void 0:n.call(e,t)},className:"\n                      flex justify-center items-center\n                      text-green-600 rounded-full p-2 m-1\n                      hover:bg-purple-50\n                  ",children:[S.K,(0,o.jsx)(o.Fragment,{children:"Editar"})]}),!!e.userDeletado&&(0,o.jsxs)("button",{onClick:function(){var n;return null===(n=e.userDeletado)||void 0===n?void 0:n.call(e,t)},className:"\n                      flex justify-center items-center\n                      text-red-600 rounded-full p-2 m-1\n                      hover:bg-purple-50\n                  ",children:[S.h,(0,o.jsx)(o.Fragment,{children:"Deletar"})]})]})},n=e.userSelecionado||e.userDeletado;return(0,o.jsxs)("table",{className:"w-full",children:[(0,o.jsx)("thead",{className:"\n                text-gray-200\n                bg-gradient-to-r from-gray-500 to-gray-600\n            \n            ",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"text-left p-3",children:"C\xf3digo"}),(0,o.jsx)("th",{className:"text-left p-3",children:"Nome"}),(0,o.jsx)("th",{className:"text-left p-3",children:"Email"}),(0,o.jsx)("th",{className:"text-left p-3",children:"CPF"}),(0,o.jsx)("th",{className:"text-left p-3",children:"Telefone"}),!!n&&(0,o.jsx)("th",{className:"p-4",children:"A\xe7\xf5es"})]})}),(0,o.jsx)("tbody",{children:function(){var r;return null===(r=e.users)||void 0===r?void 0:r.map((function(e,r){return(0,o.jsxs)("tr",{className:"".concat(r%2===0?"bg-gray-300":"bg-gray-400"),children:[(0,o.jsx)("td",{className:"text-left p-2",children:e.id}),(0,o.jsx)("td",{className:"text-left p-2",children:e.nome}),(0,o.jsx)("td",{className:"text-left p-2",children:e.email}),(0,o.jsx)("td",{className:"text-left p-2",children:e.cpf}),(0,o.jsx)("td",{className:"text-left p-2",children:e.telefone}),!!n&&t(e)]},e.id)}))}()})]})}var U=n(1796),E=n(9679),M=n(9215);function Z(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){Z(o,r,a,s,i,"next",e)}function i(e){Z(o,r,a,s,i,"throw",e)}s(void 0)}))}}function F(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function L(){var e=function(){t.obterTodosUsers().then((function(e){d(e),v("tabela")}))},t=new U.Z,n=(0,s.useState)(y.vazio()),r=n[0],l=n[1],c=(0,s.useState)([]),u=c[0],d=c[1],f=(0,s.useState)("tabela"),h=f[0],v=f[1];function p(){return(p=O(a().mark((function n(r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.deletarUser(r);case 2:e();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function x(){return x=O(a().mark((function n(r){var o,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.id){n.next=7;break}return n.next=3,t.atualizarUser(r);case 3:void 0===(o=n.sent)?alert("Usu\xe1rio atualizado com sucesso"):alert(o),n.next=11;break;case 7:return n.next=9,t.criarUser(r);case 9:F(s=n.sent,Object)?alert("usuario cadastrado com sucesso"):alert(s);case 11:e();case 12:case"end":return n.stop()}}),n)}))),x.apply(this,arguments)}return(0,s.useEffect)(e,[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"\n    flex justify-center items-center min-h-screen  max-h-full\n    bg-gradient-to-r from-slate-400 to-slate-500 text-neutral-50\n    ",children:(0,o.jsx)(C.Z,{titulo:"Usu\xe1rios",children:"tabela"===h?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex justify-end",children:[(0,o.jsx)(M.Z,{rota:"home",children:"Home"}),(0,o.jsx)(i.Z,{className:"mb-3 m-2",onClick:function(){l(y.vazio()),v("form")},children:"Cadastrar Usu\xe1rio"}),(0,o.jsx)(i.Z,{className:"bg-red-900 mb-3 m-2",onClick:E.Z,children:"Sair"})]}),(0,o.jsx)(P,{users:u,userSelecionado:function(e){l(e),v("form")},userDeletado:function(e){return p.apply(this,arguments)}})]}):(0,o.jsx)(k,{user:r,userMudou:function(e){return x.apply(this,arguments)},cancelado:function(){return v("tabela")}})})})})}}},function(e){e.O(0,[218,774,888,179],(function(){return t=1012,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
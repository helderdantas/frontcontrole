(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5400)}])},1796:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(4051),a=r.n(n);function s(e,t,r,n,a,s,o){try{var c=e[s](o),u=c.value}catch(i){return void r(i)}c.done?t(u):Promise.resolve(u).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){s(o,n,a,c,u,"next",e)}function u(e){s(o,n,a,c,u,"throw",e)}c(void 0)}))}}var c=r(9669),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t=e.prototype;return t.criarUser=function(e){return o(a().mark((function t(){var r,n,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={nome:e.nome,email:e.email,cpf:e.cpf,password:e.password,telefone:e.telefone},t.next=4,c.post("".concat("http://10.26.0.51:3030/","users/"),r);case 4:return n=t.sent,s=n.data,t.abrupt("return",s);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0.response.data.errors),t.abrupt("return",t.t0.response.data.errors);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},t.deletarUser=function(e){return o(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.id){t.next=6;break}return r={method:"delete",url:"".concat("http://10.26.0.51:3030/","users/deletarUser/")+e.id,headers:{}},t.next=5,c(r);case 5:console.log("Usuario deletado com sucesso");case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Erro ao deletar usuario ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},t.atualizarUser=function(e){return o(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.prev=1,r={method:"put",url:"".concat("http://10.26.0.51:3030/","users/atualizarUser/")+e.id,data:{email:e.email,cpf:e.cpf,password:e.password,telefone:e.telefone}},t.next=5,c(r);case 5:t.sent,console.log("Usuario atualizado com sucesso"),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(1),console.log(t.t0.response.data.errors),t.abrupt("return",t.t0.response.data.errors);case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(0),console.log(t.t1);case 18:case"end":return t.stop()}}),t,null,[[0,15],[1,9]])})))()},t.atualizarUserSenha=function(e,t){return o(a().mark((function r(){var n,s;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.prev=1,n={method:"put",url:"".concat("http://10.26.0.51:3030/","users/atualizarSenhaPorEmail/"),data:{email:e,password:t}},r.next=5,c(n);case 5:s=r.sent,console.log(s),console.log("Senha alterada com sucesso"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),console.log(r.t0);case 13:r.next=18;break;case 15:r.prev=15,r.t1=r.catch(0),console.log(r.t1);case 18:case"end":return r.stop()}}),r,null,[[0,15],[1,10]])})))()},t.obterTodosUsers=function(){return o(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"get",url:"".concat("http://10.26.0.51:3030/","users/obterTodosUsers/"),headers:{autorizacao:"Bearer "+sessionStorage.getItem("token")}},e.next=4,c(t);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},e}()},8798:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(5893);function a(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:"text-center py-2 text-xl",children:e.children}),(0,n.jsx)("hr",{className:"border-2 border-gray-600"})]})}var s=r(5675),o=r.n(s),c={src:"/_next/static/media/logotipoSeec.ace095d3.png",height:83,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA8klEQVR4nAHnABj/ASN+PigO/AJOz4bAtNLP1CAKCQ7rJCge2zRkO1X2KgSbAR97N8IDAAs9dCY29ggCHt8NCAT06u3cCnTVwy0f+PiFARx9QK0t7ts/GyaTExgUGgDu+QEA9PDYAMHhcwAF/yyLAQAA/wCNWQFwcyvMfJ8xBBPD6gX8nuPo93XeQ7CL9FWDAZNmNwAc+u5niDA5hvAC2BIJBQ0AF/IW7GW8qHPeHCOiAUC2NQo01wOc7AXwCdEFGCr2/v36Qfrs4Qv7D/KNdchbAZrLBgfs2zJQ8u4LKg0L6wHy+gUCA/wQ+wwU9NExQcmyHAVkHShK/XwAAAAASUVORK5CYII="};function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(e){return e.src};function l(e){return(0,n.jsx)(o(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({},e,{loader:i}))}function p(e){return(0,n.jsxs)("div",{className:"\n            flex flex-col w-10/12\n            bg-gray-200\n            text-gray-800 \n            rounded-md\n        ",children:[(0,n.jsxs)("div",{className:"columns-1",children:[(0,n.jsx)("div",{className:"grid justify-items-center",children:l(c)}),(0,n.jsx)("h1",{className:"px-0 py-0 text-xl text-center",children:"Secretaria de Educa\xe7\xe3o, do Esporte e Lazer do Estado do Rio Grande do Norte"}),(0,n.jsx)("h1",{className:"px-0 py-0 text-xl text-center",children:"Grupo de Processamento de Dados - GPD"}),(0,n.jsx)("h1",{className:"px-0 py-0 text-xl text-center",children:"Controle de Patrimonio"})]}),(0,n.jsx)("hr",{className:"border-2 border-gray-600"}),(0,n.jsx)(a,{children:e.titulo}),(0,n.jsx)("div",{className:"p-2",children:e.children})]})}},5400:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(4051),a=r.n(n),s=r(5893),o=r(1163),c=r.n(o),u=r(7294),i=r(9669),l=r.n(i),p=l().create({baseURL:"http://localhost:3030"}),d=r(8798),x=r(1796);function f(e,t,r,n,a,s,o){try{var c=e[s](o),u=c.value}catch(i){return void r(i)}c.done?t(u):Promise.resolve(u).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function o(e){f(s,n,a,o,c,"next",e)}function c(e){f(s,n,a,o,c,"throw",e)}o(void 0)}))}}function m(){var e=new x.Z,t=(0,u.useState)("login"),r=t[0],n=t[1],o=(0,u.useState)(""),i=o[0],f=o[1],m=(0,u.useState)(""),v=m[0],b=m[1],A=(0,u.useState)(!1),g=A[0],w=A[1],j=function(){var e=h(a().mark((function e(t){var n,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"login"!=r){e.next=30;break}return n={email:i,password:v},b(""),w(!0),e.prev=5,e.next=8,l().post("".concat("http://10.26.0.51:3030/","tokens/"),n);case 8:s=e.sent,sessionStorage.setItem("token",s.data.token),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),w(!1),alert("Email ou senha inv\xe1lido!"),e.abrupt("return");case 17:return w(!1),e.prev=18,e.next=21,l().get("".concat("http://10.26.0.51:3030/","users/obterTodosUsers"),{headers:{autorizacao:"Bearer "+sessionStorage.getItem("token")}});case 21:e.sent,c().push("/home"),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(18),c().push("/");case 28:e.next=43;break;case 30:if("password"!=r){e.next=43;break}return o={email:i},e.prev=32,e.next=35,l().post(p+"/forgetpassword/",o);case 35:e.sent,alert("Email enviado com sucesso!"),c().push("/"),e.next=43;break;case 40:e.prev=40,e.t2=e.catch(32),alert(e.t2);case 43:case"end":return e.stop()}}),e,null,[[5,12],[18,25],[32,40]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=h(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return{email:i,password:v},b(""),t.next=4,e.atualizarUserSenha(i,v);case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(e){f(e.target.value)},k=function(e){b(e.target.value)};return(0,s.jsx)("div",{className:"\n    flex justify-center items-center min-h-screen  max-h-full\n    bg-gradient-to-r from-slate-400 to-slate-500 text-neutral-50\n    ",children:(0,s.jsxs)(d.Z,{titulo:"LOGIN",children:[(0,s.jsx)("br",{}),(0,s.jsx)("div",{className:"text-center",children:"login"==r?(0,s.jsxs)("form",{onSubmit:j,children:[(0,s.jsx)("label",{className:"text-left px-1",htmlFor:"EMAIL",children:"EMAIL: "}),(0,s.jsx)("input",{className:"px-2",type:"text",name:"EMAIL",onChange:y,value:i,required:!0}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{className:"text-left px-1",htmlFor:"PASSWORD",children:"SENHA: "}),(0,s.jsx)("input",{className:"px-2",type:"password",name:"PASSWORD",value:v,onChange:k,required:!0}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{className:"bg-blue-900 text-white px-4 justify-center py-1 rounded-md",type:"submit",value:"ENTRAR",disabled:g}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{className:"text-blue-900 px-4 underline",onClick:function(){return n("password")},children:" Esqueci a senha"})]}):(0,s.jsxs)("form",{onSubmit:N,children:[(0,s.jsx)("label",{htmlFor:"EMAIL",children:"EMAIL: "}),(0,s.jsx)("input",{className:"px-10",type:"text",name:"EMAIL",onChange:y,value:i,required:!0}),(0,s.jsx)("label",{className:"text-left px-1",htmlFor:"PASSWORD",children:"NOVA SENHA: "}),(0,s.jsx)("input",{className:"px-2",type:"password",name:"PASSWORD",value:v,onChange:k,required:!0}),(0,s.jsx)("input",{className:"bg-blue-900 text-white px-2 rounded-md",type:"submit",value:"Recuperar Senha",disabled:g})]})})]})})}}},function(e){e.O(0,[218,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);